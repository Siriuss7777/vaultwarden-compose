{"version":3,"file":"812.28761183ec134a09ed9d.js","mappings":"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","sources":["webpack://@bitwarden/web-vault/../../libs/common/src/enums/event-system-user.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/event.view.ts","webpack://@bitwarden/web-vault/./src/app/common/base.events.component.ts","webpack://@bitwarden/web-vault/./src/app/organizations/manage/events.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/manage/events.component.ts","webpack://@bitwarden/web-vault/./src/app/reports/pages/exposed-passwords-report.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/tools/exposed-passwords-report.component.ts","webpack://@bitwarden/web-vault/./src/app/reports/pages/inactive-two-factor-report.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/tools/inactive-two-factor-report.component.ts","webpack://@bitwarden/web-vault/./src/app/reports/pages/reused-passwords-report.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/tools/reused-passwords-report.component.ts","webpack://@bitwarden/web-vault/./src/app/reports/pages/unsecured-websites-report.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/tools/unsecured-websites-report.component.ts","webpack://@bitwarden/web-vault/./src/app/reports/pages/weak-passwords-report.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/tools/weak-passwords-report.component.ts","webpack://@bitwarden/web-vault/./src/app/organizations/reporting/reporting.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/reporting/reporting.component.ts","webpack://@bitwarden/web-vault/./src/app/organizations/reporting/reports-home.component.html","webpack://@bitwarden/web-vault/./src/app/organizations/reporting/reports-home.component.ts","webpack://@bitwarden/web-vault/./src/app/organizations/reporting/organization-reporting-routing.module.ts","webpack://@bitwarden/web-vault/./src/app/organizations/reporting/organization-reporting.module.ts"],"sourcesContent":["// Note: the enum key is used to describe the EventSystemUser in the UI. Be careful about changing it.\nexport enum EventSystemUser {\n  SCIM = 1,\n  DomainVerification = 2,\n}\n","import { EventSystemUser } from \"../../enums/event-system-user\";\nimport { EventType } from \"../../enums/eventType\";\n\nexport class EventView {\n  message: string;\n  humanReadableMessage: string;\n  appIcon: string;\n  appName: string;\n  userId: string;\n  userName: string;\n  userEmail: string;\n  date: string;\n  ip: string;\n  type: EventType;\n  installationId: string;\n  systemUser: EventSystemUser;\n  serviceAccountId: string;\n\n  constructor(data: Required<EventView>) {\n    this.message = data.message;\n    this.humanReadableMessage = data.humanReadableMessage;\n    this.appIcon = data.appIcon;\n    this.appName = data.appName;\n    this.userId = data.userId;\n    this.userName = data.userName;\n    this.userEmail = data.userEmail;\n    this.date = data.date;\n    this.ip = data.ip;\n    this.type = data.type;\n    this.installationId = data.installationId;\n    this.systemUser = data.systemUser;\n    this.serviceAccountId = data.serviceAccountId;\n  }\n}\n","import { Directive } from \"@angular/core\";\n\nimport { ExportService } from \"@bitwarden/common/abstractions/export.service\";\nimport { FileDownloadService } from \"@bitwarden/common/abstractions/fileDownload/fileDownload.service\";\nimport { I18nService } from \"@bitwarden/common/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/abstractions/log.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/abstractions/platformUtils.service\";\nimport { EventResponse } from \"@bitwarden/common/models/response/event.response\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { EventView } from \"@bitwarden/common/models/view/event.view\";\n\nimport { EventService } from \"../core\";\n\n@Directive()\nexport abstract class BaseEventsComponent {\n  loading = true;\n  loaded = false;\n  events: EventView[];\n  start: string;\n  end: string;\n  dirtyDates = true;\n  continuationToken: string;\n  refreshPromise: Promise<any>;\n  exportPromise: Promise<any>;\n  morePromise: Promise<any>;\n\n  abstract readonly exportFileName: string;\n\n  constructor(\n    protected eventService: EventService,\n    protected i18nService: I18nService,\n    protected exportService: ExportService,\n    protected platformUtilsService: PlatformUtilsService,\n    protected logService: LogService,\n    protected fileDownloadService: FileDownloadService\n  ) {\n    const defaultDates = this.eventService.getDefaultDateFilters();\n    this.start = defaultDates[0];\n    this.end = defaultDates[1];\n  }\n\n  async exportEvents() {\n    if (this.appApiPromiseUnfulfilled() || this.dirtyDates) {\n      return;\n    }\n\n    this.loading = true;\n\n    const dates = this.parseDates();\n    if (dates == null) {\n      return;\n    }\n\n    try {\n      this.exportPromise = this.export(dates[0], dates[1]);\n\n      await this.exportPromise;\n    } catch (e) {\n      this.logService.error(`Handled exception: ${e}`);\n    }\n\n    this.exportPromise = null;\n    this.loading = false;\n  }\n\n  async loadEvents(clearExisting: boolean) {\n    if (this.appApiPromiseUnfulfilled()) {\n      return;\n    }\n\n    const dates = this.parseDates();\n    if (dates == null) {\n      return;\n    }\n\n    this.loading = true;\n    let events: EventView[] = [];\n    try {\n      const promise = this.loadAndParseEvents(\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken\n      );\n      if (clearExisting) {\n        this.refreshPromise = promise;\n      } else {\n        this.morePromise = promise;\n      }\n      const result = await promise;\n      this.continuationToken = result.continuationToken;\n      events = result.events;\n    } catch (e) {\n      this.logService.error(`Handled exception: ${e}`);\n    }\n\n    if (!clearExisting && this.events != null && this.events.length > 0) {\n      this.events = this.events.concat(events);\n    } else {\n      this.events = events;\n    }\n\n    this.dirtyDates = false;\n    this.loading = false;\n    this.morePromise = null;\n    this.refreshPromise = null;\n  }\n\n  protected abstract requestEvents(\n    startDate: string,\n    endDate: string,\n    continuationToken: string\n  ): Promise<ListResponse<EventResponse>>;\n  protected abstract getUserName(r: EventResponse, userId: string): { name: string; email: string };\n\n  protected async loadAndParseEvents(\n    startDate: string,\n    endDate: string,\n    continuationToken: string\n  ) {\n    const response = await this.requestEvents(startDate, endDate, continuationToken);\n\n    const events = await Promise.all(\n      response.data.map(async (r) => {\n        const userId = r.actingUserId == null ? r.userId : r.actingUserId;\n        const eventInfo = await this.eventService.getEventInfo(r);\n        const user = this.getUserName(r, userId);\n        const userName = user != null ? user.name : this.i18nService.t(\"unknown\");\n\n        return new EventView({\n          message: eventInfo.message,\n          humanReadableMessage: eventInfo.humanReadableMessage,\n          appIcon: eventInfo.appIcon,\n          appName: eventInfo.appName,\n          userId: userId,\n          userName: userName,\n          userEmail: user != null ? user.email : \"\",\n          date: r.date,\n          ip: r.ipAddress,\n          type: r.type,\n          installationId: r.installationId,\n          systemUser: r.systemUser,\n          serviceAccountId: r.serviceAccountId,\n        });\n      })\n    );\n    return { continuationToken: response.continuationToken, events: events };\n  }\n\n  protected parseDates() {\n    let dates: string[] = null;\n    try {\n      dates = this.eventService.formatDateFilters(this.start, this.end);\n    } catch (e) {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"invalidDateRange\")\n      );\n      return null;\n    }\n    return dates;\n  }\n\n  protected appApiPromiseUnfulfilled() {\n    return this.refreshPromise != null || this.morePromise != null || this.exportPromise != null;\n  }\n\n  private async export(start: string, end: string) {\n    let continuationToken = this.continuationToken;\n    let events = [].concat(this.events);\n\n    while (continuationToken != null) {\n      const result = await this.loadAndParseEvents(start, end, continuationToken);\n      continuationToken = result.continuationToken;\n      events = events.concat(result.events);\n    }\n\n    const data = await this.exportService.getEventExport(events);\n    const fileName = this.exportService.getFileName(this.exportFileName, \"csv\");\n    this.fileDownloadService.download({\n      fileName,\n      blobData: data,\n      blobOptions: { type: \"text/plain\" },\n    });\n  }\n}\n","<div class=\"tw-mb-4\">\n  <h1>{{ \"eventLogs\" | i18n }}</h1>\n  <div class=\"tw-mt-4 tw-flex tw-items-center\">\n    <bit-form-field>\n      <bit-label>{{ \"from\" | i18n }}</bit-label>\n      <input\n        bitInput\n        type=\"datetime-local\"\n        placeholder=\"{{ 'startDate' | i18n }}\"\n        [(ngModel)]=\"start\"\n        (change)=\"dirtyDates = true\"\n      />\n    </bit-form-field>\n    <span class=\"tw-mx-2\">-</span>\n    <bit-form-field>\n      <bit-label>{{ \"to\" | i18n }}</bit-label>\n      <input\n        bitInput\n        type=\"datetime-local\"\n        placeholder=\"{{ 'endDate' | i18n }}\"\n        [(ngModel)]=\"end\"\n        (change)=\"dirtyDates = true\"\n      />\n    </bit-form-field>\n    <form #refreshForm [appApiAction]=\"refreshPromise\">\n      <button\n        class=\"tw-mx-3 tw-mt-1\"\n        type=\"button\"\n        bitButton\n        buttonType=\"primary\"\n        (click)=\"loadEvents(true)\"\n        [disabled]=\"loaded && refreshForm.loading\"\n      >\n        {{ \"update\" | i18n }}\n      </button>\n    </form>\n    <form #exportForm [appApiAction]=\"exportPromise\">\n      <button\n        type=\"button\"\n        class=\"tw-mt-1\"\n        bitButton\n        [ngClass]=\"{ loading: exportForm.loading }\"\n        (click)=\"exportEvents()\"\n        [disabled]=\"(loaded && exportForm.loading) || dirtyDates\"\n      >\n        <span>{{ \"export\" | i18n }}</span>\n        <i\n          class=\"bwi bwi-fw\"\n          aria-hidden=\"true\"\n          [ngClass]=\"{\n            'bwi-sign-in': !exportForm.loading,\n            'bwi-spinner bwi-spin': exportForm.loading\n          }\"\n        ></i>\n      </button>\n    </form>\n  </div>\n</div>\n<ng-container *ngIf=\"!loaded\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n</ng-container>\n<ng-container *ngIf=\"loaded\">\n  <p *ngIf=\"!events || !events.length\">{{ \"noEventsInList\" | i18n }}</p>\n  <bit-table *ngIf=\"events && events.length\">\n    <ng-container header>\n      <tr>\n        <th bitCell>{{ \"timestamp\" | i18n }}</th>\n        <th bitCell>{{ \"client\" | i18n }}</th>\n        <th bitCell>{{ \"member\" | i18n }}</th>\n        <th bitCell>{{ \"event\" | i18n }}</th>\n      </tr>\n    </ng-container>\n    <ng-template body>\n      <tr bitRow *ngFor=\"let e of events\" alignContent=\"top\">\n        <td bitCell class=\"tw-whitespace-nowrap\">{{ e.date | date: \"medium\" }}</td>\n        <td bitCell>\n          <span title=\"{{ e.appName }}, {{ e.ip }}\">{{ e.appName }}</span>\n        </td>\n        <td bitCell>\n          <span title=\"{{ e.userEmail }}\">{{ e.userName }}</span>\n        </td>\n        <td bitCell [innerHTML]=\"e.message\"></td>\n      </tr>\n    </ng-template>\n  </bit-table>\n  <button\n    #moreBtn\n    [appApiAction]=\"morePromise\"\n    type=\"button\"\n    bitButton\n    buttonType=\"primary\"\n    (click)=\"loadEvents(false)\"\n    [disabled]=\"loaded && $any(moreBtn).loading\"\n    *ngIf=\"continuationToken\"\n  >\n    <i\n      class=\"bwi bwi-spinner bwi-spin\"\n      title=\"{{ 'loading' | i18n }}\"\n      aria-hidden=\"true\"\n      *ngIf=\"moreBtn.loading\"\n    ></i>\n    <span>{{ \"loadMore\" | i18n }}</span>\n  </button>\n</ng-container>\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { concatMap, Subject, takeUntil } from \"rxjs\";\n\nimport { UserNamePipe } from \"@bitwarden/angular/pipes/user-name.pipe\";\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { ExportService } from \"@bitwarden/common/abstractions/export.service\";\nimport { FileDownloadService } from \"@bitwarden/common/abstractions/fileDownload/fileDownload.service\";\nimport { I18nService } from \"@bitwarden/common/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/abstractions/log.service\";\nimport { OrganizationUserService } from \"@bitwarden/common/abstractions/organization-user/organization-user.service\";\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { PlatformUtilsService } from \"@bitwarden/common/abstractions/platformUtils.service\";\nimport { ProviderService } from \"@bitwarden/common/abstractions/provider.service\";\nimport { EventSystemUser } from \"@bitwarden/common/enums/event-system-user\";\nimport { Organization } from \"@bitwarden/common/models/domain/organization\";\nimport { EventResponse } from \"@bitwarden/common/models/response/event.response\";\n\nimport { BaseEventsComponent } from \"../../common/base.events.component\";\nimport { EventService } from \"../../core\";\n\nconst EVENT_SYSTEM_USER_TO_TRANSLATION: Record<EventSystemUser, string> = {\n  [EventSystemUser.SCIM]: null, // SCIM acronym not able to be translated so just display SCIM\n  [EventSystemUser.DomainVerification]: \"domainVerification\",\n};\n\n@Component({\n  selector: \"app-org-events\",\n  templateUrl: \"events.component.html\",\n})\nexport class EventsComponent extends BaseEventsComponent implements OnInit, OnDestroy {\n  exportFileName = \"org-events\";\n  organizationId: string;\n  organization: Organization;\n\n  private orgUsersUserIdMap = new Map<string, any>();\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private apiService: ApiService,\n    private route: ActivatedRoute,\n    eventService: EventService,\n    i18nService: I18nService,\n    exportService: ExportService,\n    platformUtilsService: PlatformUtilsService,\n    private router: Router,\n    logService: LogService,\n    private userNamePipe: UserNamePipe,\n    private organizationService: OrganizationService,\n    private organizationUserService: OrganizationUserService,\n    private providerService: ProviderService,\n    fileDownloadService: FileDownloadService\n  ) {\n    super(\n      eventService,\n      i18nService,\n      exportService,\n      platformUtilsService,\n      logService,\n      fileDownloadService\n    );\n  }\n\n  async ngOnInit() {\n    this.route.params\n      .pipe(\n        concatMap(async (params) => {\n          this.organizationId = params.organizationId;\n          this.organization = await this.organizationService.get(this.organizationId);\n          if (this.organization == null || !this.organization.useEvents) {\n            await this.router.navigate([\"/organizations\", this.organizationId]);\n            return;\n          }\n          await this.load();\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe();\n  }\n\n  async load() {\n    const response = await this.organizationUserService.getAllUsers(this.organizationId);\n    response.data.forEach((u) => {\n      const name = this.userNamePipe.transform(u);\n      this.orgUsersUserIdMap.set(u.userId, { name: name, email: u.email });\n    });\n\n    if (this.organization.providerId != null) {\n      try {\n        const provider = await this.providerService.get(this.organization.providerId);\n        if (\n          provider != null &&\n          (await this.providerService.get(this.organization.providerId)).canManageUsers\n        ) {\n          const providerUsersResponse = await this.apiService.getProviderUsers(\n            this.organization.providerId\n          );\n          providerUsersResponse.data.forEach((u) => {\n            const name = this.userNamePipe.transform(u);\n            this.orgUsersUserIdMap.set(u.userId, {\n              name: `${name} (${this.organization.providerName})`,\n              email: u.email,\n            });\n          });\n        }\n      } catch (e) {\n        this.logService.warning(e);\n      }\n    }\n\n    await this.loadEvents(true);\n    this.loaded = true;\n  }\n\n  protected requestEvents(startDate: string, endDate: string, continuationToken: string) {\n    return this.apiService.getEventsOrganization(\n      this.organizationId,\n      startDate,\n      endDate,\n      continuationToken\n    );\n  }\n\n  protected getUserName(r: EventResponse, userId: string) {\n    if (r.installationId != null) {\n      return `Installation: ${r.installationId}`;\n    }\n\n    if (userId != null) {\n      if (this.orgUsersUserIdMap.has(userId)) {\n        return this.orgUsersUserIdMap.get(userId);\n      }\n\n      if (r.providerId != null && r.providerId === this.organization.providerId) {\n        return {\n          name: this.organization.providerName,\n        };\n      }\n    }\n\n    if (r.systemUser != null) {\n      const systemUserI18nKey: string = EVENT_SYSTEM_USER_TO_TRANSLATION[r.systemUser];\n\n      if (systemUserI18nKey) {\n        return {\n          name: this.i18nService.t(systemUserI18nKey),\n        };\n      } else {\n        return {\n          name: EventSystemUser[r.systemUser],\n        };\n      }\n    }\n\n    if (r.serviceAccountId) {\n      return {\n        name: this.i18nService.t(\"serviceAccount\") + \" \" + this.getShortId(r.serviceAccountId),\n      };\n    }\n\n    return null;\n  }\n\n  private getShortId(id: string) {\n    return id?.substring(0, 8);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page-header\">\n  <h1>{{ \"exposedPasswordsReport\" | i18n }}</h1>\n</div>\n<p>{{ \"exposedPasswordsReportDesc\" | i18n }}</p>\n<button type=\"submit\" buttonType=\"primary\" bitButton [loading]=\"loading\" (click)=\"load()\">\n  {{ \"checkExposedPasswords\" | i18n }}\n</button>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n  <app-callout type=\"success\" title=\"{{ 'goodNews' | i18n }}\" *ngIf=\"!ciphers.length\">\n    {{ \"noExposedPasswords\" | i18n }}\n  </app-callout>\n  <ng-container *ngIf=\"ciphers.length\">\n    <app-callout type=\"danger\" title=\"{{ 'exposedPasswordsFound' | i18n }}\" [useAlertRole]=\"true\">\n      {{ \"exposedPasswordsFoundDesc\" | i18n: (ciphers.length | number) }}\n    </app-callout>\n    <table class=\"table table-hover table-list table-ciphers\">\n      <tbody>\n        <tr *ngFor=\"let c of ciphers\">\n          <td class=\"table-list-icon\">\n            <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n          </td>\n          <td class=\"reduced-lh wrap\">\n            <ng-container *ngIf=\"!organization || canManageCipher(c); else cantManage\">\n              <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{ 'editItem' | i18n }}\">{{\n                c.name\n              }}</a>\n            </ng-container>\n            <ng-template #cantManage>\n              <span>{{ c.name }}</span>\n            </ng-template>\n            <ng-container *ngIf=\"!organization && c.organizationId\">\n              <i\n                class=\"bwi bwi-collection\"\n                appStopProp\n                title=\"{{ 'shared' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"shared\" | i18n }}</span>\n            </ng-container>\n            <ng-container *ngIf=\"c.hasAttachments\">\n              <i\n                class=\"bwi bwi-paperclip\"\n                appStopProp\n                title=\"{{ 'attachments' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"attachments\" | i18n }}</span>\n            </ng-container>\n            <br />\n            <small>{{ c.subTitle }}</small>\n          </td>\n          <td class=\"text-right\">\n            <span bitBadge badgeType=\"warning\">\n              {{ \"exposedXTimes\" | i18n: (exposedPasswordMap.get(c.id) | number) }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\n\nimport { ModalService } from \"@bitwarden/angular/services/modal.service\";\nimport { AuditService } from \"@bitwarden/common/abstractions/audit.service\";\nimport { MessagingService } from \"@bitwarden/common/abstractions/messaging.service\";\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { PasswordRepromptService } from \"@bitwarden/common/vault/abstractions/password-reprompt.service\";\nimport { Cipher } from \"@bitwarden/common/vault/models/domain/cipher\";\nimport { CipherView } from \"@bitwarden/common/vault/models/view/cipher.view\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { ExposedPasswordsReportComponent as BaseExposedPasswordsReportComponent } from \"../../reports/pages/exposed-passwords-report.component\";\n\n@Component({\n  selector: \"app-org-exposed-passwords-report\",\n  templateUrl: \"../../reports/pages/exposed-passwords-report.component.html\",\n})\n// eslint-disable-next-line rxjs-angular/prefer-takeuntil\nexport class ExposedPasswordsReportComponent extends BaseExposedPasswordsReportComponent {\n  manageableCiphers: Cipher[];\n\n  constructor(\n    cipherService: CipherService,\n    auditService: AuditService,\n    modalService: ModalService,\n    messagingService: MessagingService,\n    private organizationService: OrganizationService,\n    private route: ActivatedRoute,\n    passwordRepromptService: PasswordRepromptService\n  ) {\n    super(cipherService, auditService, modalService, messagingService, passwordRepromptService);\n  }\n\n  ngOnInit() {\n    // eslint-disable-next-line rxjs-angular/prefer-takeuntil, rxjs/no-async-subscribe\n    this.route.parent.parent.params.subscribe(async (params) => {\n      this.organization = await this.organizationService.get(params.organizationId);\n      this.manageableCiphers = await this.cipherService.getAll();\n      await this.checkAccess();\n    });\n  }\n\n  getAllCiphers(): Promise<CipherView[]> {\n    return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n  }\n\n  canManageCipher(c: CipherView): boolean {\n    return this.manageableCiphers.some((x) => x.id === c.id);\n  }\n}\n","<div class=\"page-header\">\n  <h1>\n    {{ \"inactive2faReport\" | i18n }}\n    <small *ngIf=\"hasLoaded && loading\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n    </small>\n  </h1>\n</div>\n<p>{{ \"inactive2faReportDesc\" | i18n }}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n  <app-callout type=\"success\" title=\"{{ 'goodNews' | i18n }}\" *ngIf=\"!ciphers.length\">\n    {{ \"noInactive2fa\" | i18n }}\n  </app-callout>\n  <ng-container *ngIf=\"ciphers.length\">\n    <app-callout type=\"danger\" title=\"{{ 'inactive2faFound' | i18n }}\">\n      {{ \"inactive2faFoundDesc\" | i18n: (ciphers.length | number) }}\n    </app-callout>\n    <table class=\"table table-hover table-list table-ciphers\">\n      <tbody>\n        <tr *ngFor=\"let c of ciphers\">\n          <td class=\"table-list-icon\">\n            <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n          </td>\n          <td class=\"reduced-lh wrap\">\n            <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{ 'editItem' | i18n }}\">{{\n              c.name\n            }}</a>\n            <ng-container *ngIf=\"!organization && c.organizationId\">\n              <i\n                class=\"bwi bwi-collection\"\n                appStopProp\n                title=\"{{ 'shared' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"shared\" | i18n }}</span>\n            </ng-container>\n            <ng-container *ngIf=\"c.hasAttachments\">\n              <i\n                class=\"bwi bwi-paperclip\"\n                appStopProp\n                title=\"{{ 'attachments' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"attachments\" | i18n }}</span>\n            </ng-container>\n            <br />\n            <small>{{ c.subTitle }}</small>\n          </td>\n          <td class=\"text-right\">\n            <a\n              bitBadge\n              href=\"{{ cipherDocs.get(c.id) }}\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              *ngIf=\"cipherDocs.has(c.id)\"\n            >\n              {{ \"instructions\" | i18n }}</a\n            >\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\n\nimport { ModalService } from \"@bitwarden/angular/services/modal.service\";\nimport { LogService } from \"@bitwarden/common/abstractions/log.service\";\nimport { MessagingService } from \"@bitwarden/common/abstractions/messaging.service\";\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { PasswordRepromptService } from \"@bitwarden/common/vault/abstractions/password-reprompt.service\";\nimport { CipherView } from \"@bitwarden/common/vault/models/view/cipher.view\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { InactiveTwoFactorReportComponent as BaseInactiveTwoFactorReportComponent } from \"../../reports/pages/inactive-two-factor-report.component\";\n\n@Component({\n  selector: \"app-inactive-two-factor-report\",\n  templateUrl: \"../../reports/pages/inactive-two-factor-report.component.html\",\n})\n// eslint-disable-next-line rxjs-angular/prefer-takeuntil\nexport class InactiveTwoFactorReportComponent extends BaseInactiveTwoFactorReportComponent {\n  constructor(\n    cipherService: CipherService,\n    modalService: ModalService,\n    messagingService: MessagingService,\n    private route: ActivatedRoute,\n    logService: LogService,\n    passwordRepromptService: PasswordRepromptService,\n    private organizationService: OrganizationService\n  ) {\n    super(cipherService, modalService, messagingService, logService, passwordRepromptService);\n  }\n\n  async ngOnInit() {\n    // eslint-disable-next-line rxjs-angular/prefer-takeuntil, rxjs/no-async-subscribe\n    this.route.parent.parent.params.subscribe(async (params) => {\n      this.organization = await this.organizationService.get(params.organizationId);\n      await super.ngOnInit();\n    });\n  }\n\n  getAllCiphers(): Promise<CipherView[]> {\n    return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n  }\n}\n","<div class=\"page-header\">\n  <h1>\n    {{ \"reusedPasswordsReport\" | i18n }}\n    <small *ngIf=\"hasLoaded && loading\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n    </small>\n  </h1>\n</div>\n<p>{{ \"reusedPasswordsReportDesc\" | i18n }}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n  <app-callout type=\"success\" title=\"{{ 'goodNews' | i18n }}\" *ngIf=\"!ciphers.length\">\n    {{ \"noReusedPasswords\" | i18n }}\n  </app-callout>\n  <ng-container *ngIf=\"ciphers.length\">\n    <app-callout type=\"danger\" title=\"{{ 'reusedPasswordsFound' | i18n }}\">\n      {{ \"reusedPasswordsFoundDesc\" | i18n: (ciphers.length | number) }}\n    </app-callout>\n    <table class=\"table table-hover table-list table-ciphers\">\n      <tbody>\n        <tr *ngFor=\"let c of ciphers\">\n          <td class=\"table-list-icon\">\n            <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n          </td>\n          <td class=\"reduced-lh wrap\">\n            <ng-container *ngIf=\"!organization || canManageCipher(c); else cantManage\">\n              <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{ 'editItem' | i18n }}\">{{\n                c.name\n              }}</a>\n            </ng-container>\n            <ng-template #cantManage>\n              <span>{{ c.name }}</span>\n            </ng-template>\n            <ng-container *ngIf=\"!organization && c.organizationId\">\n              <i\n                class=\"bwi bwi-collection\"\n                appStopProp\n                title=\"{{ 'shared' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"shared\" | i18n }}</span>\n            </ng-container>\n            <ng-container *ngIf=\"c.hasAttachments\">\n              <i\n                class=\"bwi bwi-paperclip\"\n                appStopProp\n                title=\"{{ 'attachments' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"attachments\" | i18n }}</span>\n            </ng-container>\n            <br />\n            <small>{{ c.subTitle }}</small>\n          </td>\n          <td class=\"text-right\">\n            <span bitBadge badgeType=\"warning\">\n              {{ \"reusedXTimes\" | i18n: passwordUseMap.get(c.login.password) }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\n\nimport { ModalService } from \"@bitwarden/angular/services/modal.service\";\nimport { MessagingService } from \"@bitwarden/common/abstractions/messaging.service\";\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { StateService } from \"@bitwarden/common/abstractions/state.service\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { PasswordRepromptService } from \"@bitwarden/common/vault/abstractions/password-reprompt.service\";\nimport { Cipher } from \"@bitwarden/common/vault/models/domain/cipher\";\nimport { CipherView } from \"@bitwarden/common/vault/models/view/cipher.view\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { ReusedPasswordsReportComponent as BaseReusedPasswordsReportComponent } from \"../../reports/pages/reused-passwords-report.component\";\n\n@Component({\n  selector: \"app-reused-passwords-report\",\n  templateUrl: \"../../reports/pages/reused-passwords-report.component.html\",\n})\n// eslint-disable-next-line rxjs-angular/prefer-takeuntil\nexport class ReusedPasswordsReportComponent extends BaseReusedPasswordsReportComponent {\n  manageableCiphers: Cipher[];\n\n  constructor(\n    cipherService: CipherService,\n    modalService: ModalService,\n    messagingService: MessagingService,\n    stateService: StateService,\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n    passwordRepromptService: PasswordRepromptService\n  ) {\n    super(cipherService, modalService, messagingService, stateService, passwordRepromptService);\n  }\n\n  async ngOnInit() {\n    // eslint-disable-next-line rxjs-angular/prefer-takeuntil, rxjs/no-async-subscribe\n    this.route.parent.parent.params.subscribe(async (params) => {\n      this.organization = await this.organizationService.get(params.organizationId);\n      this.manageableCiphers = await this.cipherService.getAll();\n      await super.ngOnInit();\n    });\n  }\n\n  getAllCiphers(): Promise<CipherView[]> {\n    return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n  }\n\n  canManageCipher(c: CipherView): boolean {\n    return this.manageableCiphers.some((x) => x.id === c.id);\n  }\n}\n","<div class=\"page-header\">\n  <h1>\n    {{ \"unsecuredWebsitesReport\" | i18n }}\n    <small *ngIf=\"hasLoaded && loading\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n    </small>\n  </h1>\n</div>\n<p>{{ \"unsecuredWebsitesReportDesc\" | i18n }}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n  <app-callout type=\"success\" title=\"{{ 'goodNews' | i18n }}\" *ngIf=\"!ciphers.length\">\n    {{ \"noUnsecuredWebsites\" | i18n }}\n  </app-callout>\n  <ng-container *ngIf=\"ciphers.length\">\n    <app-callout type=\"danger\" title=\"{{ 'unsecuredWebsitesFound' | i18n }}\">\n      {{ \"unsecuredWebsitesFoundDesc\" | i18n: (ciphers.length | number) }}\n    </app-callout>\n    <table class=\"table table-hover table-list table-ciphers\">\n      <tbody>\n        <tr *ngFor=\"let c of ciphers\">\n          <td class=\"table-list-icon\">\n            <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n          </td>\n          <td class=\"reduced-lh wrap\">\n            <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{ 'editItem' | i18n }}\">{{\n              c.name\n            }}</a>\n            <ng-container *ngIf=\"!organization && c.organizationId\">\n              <i\n                class=\"bwi bwi-collection\"\n                appStopProp\n                title=\"{{ 'shared' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"shared\" | i18n }}</span>\n            </ng-container>\n            <ng-container *ngIf=\"c.hasAttachments\">\n              <i\n                class=\"bwi bwi-paperclip\"\n                appStopProp\n                title=\"{{ 'attachments' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"attachments\" | i18n }}</span>\n            </ng-container>\n            <br />\n            <small>{{ c.subTitle }}</small>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\n\nimport { ModalService } from \"@bitwarden/angular/services/modal.service\";\nimport { MessagingService } from \"@bitwarden/common/abstractions/messaging.service\";\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { PasswordRepromptService } from \"@bitwarden/common/vault/abstractions/password-reprompt.service\";\nimport { CipherView } from \"@bitwarden/common/vault/models/view/cipher.view\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { UnsecuredWebsitesReportComponent as BaseUnsecuredWebsitesReportComponent } from \"../../reports/pages/unsecured-websites-report.component\";\n\n@Component({\n  selector: \"app-unsecured-websites-report\",\n  templateUrl: \"../../reports/pages/unsecured-websites-report.component.html\",\n})\n// eslint-disable-next-line rxjs-angular/prefer-takeuntil\nexport class UnsecuredWebsitesReportComponent extends BaseUnsecuredWebsitesReportComponent {\n  constructor(\n    cipherService: CipherService,\n    modalService: ModalService,\n    messagingService: MessagingService,\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n    passwordRepromptService: PasswordRepromptService\n  ) {\n    super(cipherService, modalService, messagingService, passwordRepromptService);\n  }\n\n  async ngOnInit() {\n    // eslint-disable-next-line rxjs-angular/prefer-takeuntil, rxjs/no-async-subscribe\n    this.route.parent.parent.params.subscribe(async (params) => {\n      this.organization = await this.organizationService.get(params.organizationId);\n      await super.ngOnInit();\n    });\n  }\n\n  getAllCiphers(): Promise<CipherView[]> {\n    return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n  }\n}\n","<div class=\"page-header\">\n  <h1>\n    {{ \"weakPasswordsReport\" | i18n }}\n    <small *ngIf=\"hasLoaded && loading\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n    </small>\n  </h1>\n</div>\n<p>{{ \"weakPasswordsReportDesc\" | i18n }}</p>\n<div *ngIf=\"!hasLoaded && loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n</div>\n<div class=\"mt-4\" *ngIf=\"hasLoaded\">\n  <app-callout type=\"success\" title=\"{{ 'goodNews' | i18n }}\" *ngIf=\"!ciphers.length\">\n    {{ \"noWeakPasswords\" | i18n }}\n  </app-callout>\n  <ng-container *ngIf=\"ciphers.length\">\n    <app-callout type=\"danger\" title=\"{{ 'weakPasswordsFound' | i18n }}\">\n      {{ \"weakPasswordsFoundDesc\" | i18n: (ciphers.length | number) }}\n    </app-callout>\n    <table class=\"table table-hover table-list table-ciphers\">\n      <tbody>\n        <tr *ngFor=\"let c of ciphers\">\n          <td class=\"table-list-icon\">\n            <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n          </td>\n          <td class=\"reduced-lh wrap\">\n            <ng-container *ngIf=\"!organization || canManageCipher(c); else cantManage\">\n              <a href=\"#\" appStopClick (click)=\"selectCipher(c)\" title=\"{{ 'editItem' | i18n }}\">{{\n                c.name\n              }}</a>\n            </ng-container>\n            <ng-template #cantManage>\n              <span>{{ c.name }}</span>\n            </ng-template>\n            <ng-container *ngIf=\"!organization && c.organizationId\">\n              <i\n                class=\"bwi bwi-collection\"\n                appStopProp\n                title=\"{{ 'shared' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"shared\" | i18n }}</span>\n            </ng-container>\n            <ng-container *ngIf=\"c.hasAttachments\">\n              <i\n                class=\"bwi bwi-paperclip\"\n                appStopProp\n                title=\"{{ 'attachments' | i18n }}\"\n                aria-hidden=\"true\"\n              ></i>\n              <span class=\"sr-only\">{{ \"attachments\" | i18n }}</span>\n            </ng-container>\n            <br />\n            <small>{{ c.subTitle }}</small>\n          </td>\n          <td class=\"text-right\">\n            <span bitBadge [badgeType]=\"passwordStrengthMap.get(c.id)[1]\">\n              {{ passwordStrengthMap.get(c.id)[0] | i18n }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </ng-container>\n</div>\n<ng-template #cipherAddEdit></ng-template>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\n\nimport { ModalService } from \"@bitwarden/angular/services/modal.service\";\nimport { MessagingService } from \"@bitwarden/common/abstractions/messaging.service\";\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { PasswordGenerationServiceAbstraction } from \"@bitwarden/common/tools/generator/password\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { PasswordRepromptService } from \"@bitwarden/common/vault/abstractions/password-reprompt.service\";\nimport { Cipher } from \"@bitwarden/common/vault/models/domain/cipher\";\nimport { CipherView } from \"@bitwarden/common/vault/models/view/cipher.view\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { WeakPasswordsReportComponent as BaseWeakPasswordsReportComponent } from \"../../reports/pages/weak-passwords-report.component\";\n\n@Component({\n  selector: \"app-weak-passwords-report\",\n  templateUrl: \"../../reports/pages/weak-passwords-report.component.html\",\n})\n// eslint-disable-next-line rxjs-angular/prefer-takeuntil\nexport class WeakPasswordsReportComponent extends BaseWeakPasswordsReportComponent {\n  manageableCiphers: Cipher[];\n\n  constructor(\n    cipherService: CipherService,\n    passwordGenerationService: PasswordGenerationServiceAbstraction,\n    modalService: ModalService,\n    messagingService: MessagingService,\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n    passwordRepromptService: PasswordRepromptService\n  ) {\n    super(\n      cipherService,\n      passwordGenerationService,\n      modalService,\n      messagingService,\n      passwordRepromptService\n    );\n  }\n\n  async ngOnInit() {\n    // eslint-disable-next-line rxjs-angular/prefer-takeuntil, rxjs/no-async-subscribe\n    this.route.parent.parent.params.subscribe(async (params) => {\n      this.organization = await this.organizationService.get(params.organizationId);\n      this.manageableCiphers = await this.cipherService.getAll();\n      await super.ngOnInit();\n    });\n  }\n\n  getAllCiphers(): Promise<CipherView[]> {\n    return this.cipherService.getAllFromApiForOrganization(this.organization.id);\n  }\n\n  canManageCipher(c: CipherView): boolean {\n    return this.manageableCiphers.some((x) => x.id === c.id);\n  }\n}\n","<div class=\"container page-content\">\n  <div class=\"row\">\n    <div class=\"col-3\" *ngIf=\"showLeftNav$ | async\">\n      <div class=\"card\" *ngIf=\"organization$ | async as org\">\n        <div class=\"card-header\">{{ \"reporting\" | i18n }}</div>\n        <div class=\"list-group list-group-flush\">\n          <a\n            routerLink=\"events\"\n            class=\"list-group-item\"\n            routerLinkActive=\"active\"\n            *ngIf=\"org.canAccessEventLogs\"\n          >\n            {{ \"eventLogs\" | i18n }}\n          </a>\n          <a\n            routerLink=\"reports\"\n            class=\"list-group-item\"\n            routerLinkActive=\"active\"\n            *ngIf=\"org.canAccessReports\"\n          >\n            {{ \"reports\" | i18n }}\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-9\" [ngClass]=\"(showLeftNav$ | async) ? 'col-9' : 'col-12'\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { map, Observable, shareReplay, startWith, switchMap } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/models/domain/organization\";\n\n@Component({\n  selector: \"app-org-reporting\",\n  templateUrl: \"reporting.component.html\",\n})\nexport class ReportingComponent implements OnInit {\n  organization$: Observable<Organization>;\n  showLeftNav$: Observable<boolean>;\n\n  constructor(private route: ActivatedRoute, private organizationService: OrganizationService) {}\n\n  ngOnInit() {\n    this.organization$ = this.route.params.pipe(\n      switchMap((params) => this.organizationService.get$(params.organizationId)),\n      shareReplay({ refCount: true, bufferSize: 1 })\n    );\n\n    this.showLeftNav$ = this.organization$.pipe(\n      map((o) => o.canAccessEventLogs && o.canAccessReports),\n      startWith(true)\n    );\n  }\n}\n","<ng-container *ngIf=\"homepage\">\n  <div class=\"page-header\">\n    <h1>{{ \"reports\" | i18n }}</h1>\n  </div>\n\n  <p>{{ \"orgsReportsDesc\" | i18n }}</p>\n\n  <app-report-list [reports]=\"reports\"></app-report-list>\n</ng-container>\n\n<router-outlet></router-outlet>\n\n<div class=\"row mt-4\">\n  <div class=\"col\">\n    <a bitButton routerLink=\"./\" *ngIf=\"!homepage\">\n      <i class=\"bwi bwi-angle-left\" aria-hidden=\"true\"></i>\n      {{ \"backToReports\" | i18n }}\n    </a>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { NavigationEnd, Router } from \"@angular/router\";\nimport { filter, Subject, takeUntil } from \"rxjs\";\n\nimport { StateService } from \"@bitwarden/common/abstractions/state.service\";\n\nimport { ReportVariant, reports, ReportType, ReportEntry } from \"../../reports\";\n\n@Component({\n  selector: \"app-org-reports-home\",\n  templateUrl: \"reports-home.component.html\",\n})\nexport class ReportsHomeComponent implements OnInit, OnDestroy {\n  reports: ReportEntry[];\n\n  homepage = true;\n  private destrory$: Subject<void> = new Subject<void>();\n\n  constructor(private stateService: StateService, router: Router) {\n    router.events\n      .pipe(\n        filter((event) => event instanceof NavigationEnd),\n        takeUntil(this.destrory$)\n      )\n      .subscribe((event) => {\n        this.homepage = (event as NavigationEnd).urlAfterRedirects.endsWith(\"/reports\");\n      });\n  }\n\n  async ngOnInit(): Promise<void> {\n    const userHasPremium = await this.stateService.getCanAccessPremium();\n\n    const reportRequiresPremium = userHasPremium\n      ? ReportVariant.Enabled\n      : ReportVariant.RequiresPremium;\n\n    this.reports = [\n      {\n        ...reports[ReportType.ExposedPasswords],\n        variant: reportRequiresPremium,\n      },\n      {\n        ...reports[ReportType.ReusedPasswords],\n        variant: reportRequiresPremium,\n      },\n      {\n        ...reports[ReportType.WeakPasswords],\n        variant: reportRequiresPremium,\n      },\n      {\n        ...reports[ReportType.UnsecuredWebsites],\n        variant: reportRequiresPremium,\n      },\n      {\n        ...reports[ReportType.Inactive2fa],\n        variant: reportRequiresPremium,\n      },\n    ];\n  }\n\n  ngOnDestroy(): void {\n    this.destrory$.next();\n    this.destrory$.complete();\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { canAccessReportingTab } from \"@bitwarden/common/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/models/domain/organization\";\n\nimport { OrganizationPermissionsGuard } from \"../guards/org-permissions.guard\";\nimport { OrganizationRedirectGuard } from \"../guards/org-redirect.guard\";\nimport { EventsComponent } from \"../manage/events.component\";\nimport { ExposedPasswordsReportComponent } from \"../tools/exposed-passwords-report.component\";\nimport { InactiveTwoFactorReportComponent } from \"../tools/inactive-two-factor-report.component\";\nimport { ReusedPasswordsReportComponent } from \"../tools/reused-passwords-report.component\";\nimport { UnsecuredWebsitesReportComponent } from \"../tools/unsecured-websites-report.component\";\nimport { WeakPasswordsReportComponent } from \"../tools/weak-passwords-report.component\";\n\nimport { ReportingComponent } from \"./reporting.component\";\nimport { ReportsHomeComponent } from \"./reports-home.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: ReportingComponent,\n    canActivate: [OrganizationPermissionsGuard],\n    data: { organizationPermissions: canAccessReportingTab },\n    children: [\n      {\n        path: \"\",\n        pathMatch: \"full\",\n        canActivate: [OrganizationRedirectGuard],\n        data: {\n          autoRedirectCallback: getReportRoute,\n        },\n        children: [], // This is required to make the auto redirect work,\n      },\n      {\n        path: \"reports\",\n        component: ReportsHomeComponent,\n        canActivate: [OrganizationPermissionsGuard],\n        data: {\n          titleId: \"reports\",\n        },\n        children: [\n          {\n            path: \"exposed-passwords-report\",\n            component: ExposedPasswordsReportComponent,\n            data: {\n              titleId: \"exposedPasswordsReport\",\n            },\n          },\n          {\n            path: \"inactive-two-factor-report\",\n            component: InactiveTwoFactorReportComponent,\n            data: {\n              titleId: \"inactive2faReport\",\n            },\n          },\n          {\n            path: \"reused-passwords-report\",\n            component: ReusedPasswordsReportComponent,\n            data: {\n              titleId: \"reusedPasswordsReport\",\n            },\n          },\n          {\n            path: \"unsecured-websites-report\",\n            component: UnsecuredWebsitesReportComponent,\n            data: {\n              titleId: \"unsecuredWebsitesReport\",\n            },\n          },\n          {\n            path: \"weak-passwords-report\",\n            component: WeakPasswordsReportComponent,\n            data: {\n              titleId: \"weakPasswordsReport\",\n            },\n          },\n        ],\n      },\n      {\n        path: \"events\",\n        component: EventsComponent,\n        canActivate: [OrganizationPermissionsGuard],\n        data: {\n          titleId: \"eventLogs\",\n          organizationPermissions: (org: Organization) => org.canAccessEventLogs,\n        },\n      },\n    ],\n  },\n];\n\nfunction getReportRoute(organization: Organization): string {\n  if (organization.canAccessEventLogs) {\n    return \"events\";\n  }\n  if (organization.canAccessReports) {\n    return \"reports\";\n  }\n  return undefined;\n}\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrganizationReportingRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { ReportsSharedModule } from \"../../reports\";\nimport { SharedModule } from \"../../shared/shared.module\";\n\nimport { OrganizationReportingRoutingModule } from \"./organization-reporting-routing.module\";\nimport { ReportingComponent } from \"./reporting.component\";\nimport { ReportsHomeComponent } from \"./reports-home.component\";\n\n@NgModule({\n  imports: [SharedModule, ReportsSharedModule, OrganizationReportingRoutingModule],\n  declarations: [ReportsHomeComponent, ReportingComponent],\n})\nexport class OrganizationReportingModule {}\n"],"names":["EventSystemUser","EventView","constructor","data","this","message","humanReadableMessage","appIcon","appName","userId","userName","userEmail","date","ip","type","installationId","systemUser","serviceAccountId","BaseEventsComponent","eventService","i18nService","exportService","platformUtilsService","logService","fileDownloadService","loading","loaded","dirtyDates","defaultDates","getDefaultDateFilters","start","end","exportEvents","appApiPromiseUnfulfilled","dates","parseDates","exportPromise","export","e","error","loadEvents","clearExisting","events","promise","loadAndParseEvents","continuationToken","refreshPromise","morePromise","result","length","concat","startDate","endDate","response","requestEvents","Promise","all","map","r","actingUserId","eventInfo","getEventInfo","user","getUserName","name","t","email","ipAddress","formatDateFilters","showToast","getEventExport","fileName","getFileName","exportFileName","download","blobData","blobOptions","EVENT_SYSTEM_USER_TO_TRANSLATION","SCIM","DomainVerification","EventsComponent","apiService","route","router","userNamePipe","organizationService","organizationUserService","providerService","super","orgUsersUserIdMap","Map","destroy$","Subject","ngOnInit","params","pipe","concatMap","organizationId","organization","get","useEvents","load","navigate","takeUntil","subscribe","getAllUsers","forEach","u","transform","set","providerId","canManageUsers","getProviderUsers","providerName","warning","getEventsOrganization","has","systemUserI18nKey","getShortId","id","substring","ngOnDestroy","next","complete","selectCipher","ExposedPasswordsReportComponent","cipherService","auditService","modalService","messagingService","passwordRepromptService","parent","manageableCiphers","getAll","checkAccess","getAllCiphers","getAllFromApiForOrganization","canManageCipher","c","some","x","InactiveTwoFactorReportComponent","ReusedPasswordsReportComponent","stateService","UnsecuredWebsitesReportComponent","WeakPasswordsReportComponent","passwordGenerationService","ReportingComponent","organization$","switchMap","get$","shareReplay","refCount","bufferSize","showLeftNav$","o","canAccessEventLogs","canAccessReports","startWith","ReportsHomeComponent","homepage","destrory$","filter","event","urlAfterRedirects","endsWith","reportRequiresPremium","getCanAccessPremium","reports","variant","routes","path","component","canActivate","organizationPermissions","children","pathMatch","autoRedirectCallback","titleId","org","OrganizationReportingRoutingModule","OrganizationReportingModule"],"sourceRoot":""}